/*!
 * g.Raphael 0.5 - Charting library, based on Raphaël
 *
 * Copyright (c) 2009 Dmitry Baranovskiy (http://g.raphaeljs.com)
 * Copyright (c) 2011 Karol Kowalski
 * Licensed under the MIT (http://www.opensource.org/licenses/mit-license.php) license.
 */
(function(){var l=Math.max,n=Math.min,t=function(){typeof v==="undefined"&&(v=new x(this));return v},x=function(f){this.paper=f},v,h=t.fn=x.prototype;Raphael.fn.g=Raphael.fn.g||t;h.markers={disc:"disc",o:"disc",flower:"flower",f:"flower",diamond:"diamond",d:"diamond",square:"square",s:"square",triangle:"triangle",t:"triangle",star:"star","*":"star",cross:"cross",x:"cross",plus:"plus","+":"plus",arrow:"arrow","->":"arrow"};h.shim={stroke:"none",fill:"#000","fill-opacity":0};h.txtattr={font:"12px Arial, sans-serif"};
h.colors=[];for(var t=[0.6,0.2,0.05,0.1333,0.75,0],u=0;u<10;u++)u<t.length?h.colors.push("hsb("+t[u]+", .75, .75)"):h.colors.push("hsb("+t[u-t.length]+", 1, .5)");h.text=function(f,c,b){return this.paper.text(f,c,b).attr(this.txtattr)};h.labelise=function(f,c,b){return f?(f+"").replace(/(##+(?:\.#+)?)|(%%+(?:\.%+)?)/g,function(e,a,f){if(a)return(+c).toFixed(a.replace(/^#+\.?/g,"").length);if(f)return(c*100/b).toFixed(f.replace(/^%+\.?/g,"").length)+"%"}):(+c).toFixed(0)};h.finger=function(f,c,b,e,
a,g,j){if(a&&!e||!a&&!b)return j?"":this.paper.path();var g={square:"square",sharp:"sharp",soft:"soft"}[g]||"round",i,e=Math.round(e),b=Math.round(b),f=Math.round(f),c=Math.round(c);switch(g){case "round":a?(a=~~(b/2),i=e<a?["M",f-~~(b/2),c,"l",0,0,"a",~~(b/2),e,0,0,1,b,0,"l",0,0,"z"]:["M",f-a,c,"l",0,a-e,"a",a,a,0,1,1,b,0,"l",0,e-a,"z"]):(a=~~(e/2),i=b<a?["M",f+0.5,c+0.5-~~(e/2),"l",0,0,"a",b,~~(e/2),0,0,1,0,e,"l",0,0,"z"]:["M",f+0.5,c+0.5-a,"l",b-a,0,"a",a,a,0,1,1,0,e,"l",a-b,0,"z"]);break;case "sharp":a?
(a=~~(b/2),i=["M",f+a,c,"l",-b,0,0,-l(e-a,0),a,-n(a,e),a,n(a,e),a,"z"]):(a=~~(e/2),i=["M",f,c+a,"l",0,-e,l(b-a,0),0,n(a,b),a,-n(a,b),a+(a*2<e),"z"]);break;case "square":i=a?["M",f+~~(b/2),c,"l",1-b,0,0,-e,b-1,0,"z"]:["M",f,c+~~(e/2),"l",0,-e,b,0,0,e,"z"];break;case "soft":a?(a=n(Math.round(b/5),e),i=["M",f-~~(b/2),c,"l",0,a-e,"a",a,a,0,0,1,a,-a,"l",b-2*a,0,"a",a,a,0,0,1,a,a,"l",0,e-a,"z"]):(a=n(b,Math.round(e/5)),i=["M",f+0.5,c+0.5-~~(e/2),"l",b-a,0,"a",a,a,0,0,1,a,a,"l",0,e-a*2,"a",a,a,0,0,1,-a,
a,"l",a-b,0,"z"])}return j?i.join(","):this.paper.path(i)};h.disc=function(f,c,b){return this.paper.circle(f,c,b)};h.line=function(f,c,b){return this.paper.rect(f-b,c-b/5,2*b,2*b/5)};h.square=function(f,c,b){b*=0.7;return this.paper.rect(f-b,c-b,2*b,2*b)};h.triangle=function(f,c,b){b*=1.75;return this.paper.path("M".concat(f,",",c,"m0-",b*0.58,"l",b*0.5,",",b*0.87,"-",b,",0z"))};h.diamond=function(f,c,b){return this.paper.path(["M",f,c-b,"l",b,b,-b,b,-b,-b,b,-b,"z"])};h.flower=function(f,c,b,e){b*=
1.25;for(var a=b*0.5,e=+e<3||!e?5:e,g=["M",f,c+a,"Q"],j,i=1;i<e*2+1;i++)j=i%2?b:a,g=g.concat([+(f+j*Math.sin(i*Math.PI/e)).toFixed(3),+(c+j*Math.cos(i*Math.PI/e)).toFixed(3)]);g.push("z");return this.paper.path(g.join(","))};h.star=function(f,c,b,e,a){for(var e=e||b*0.382,a=a||5,g=["M",f,c+e,"L"],j,i=1;i<a*2;i++)j=i%2?b:e,g=g.concat([f+j*Math.sin(i*Math.PI/a),c+j*Math.cos(i*Math.PI/a)]);g.push("z");return this.paper.path(g.join(","))};h.cross=function(f,c,b){b/=2.5;return this.paper.path("M".concat(f-
b,",",c,"l",[-b,-b,b,-b,b,b,b,-b,b,b,-b,b,b,b,-b,b,-b,-b,-b,b,-b,-b,"z"]))};h.plus=function(f,c,b){b/=2;return this.paper.path("M".concat(f-b/2,",",c-b/2,"l",[0,-b,b,0,0,b,b,0,0,b,-b,0,0,b,-b,0,0,-b,-b,0,0,-b,"z"]))};h.arrow=function(f,c,b){return this.paper.path("M".concat(f-b*0.7,",",c-b*0.4,"l",[b*0.6,0,0,-b*0.4,b,b*0.8,-b,b*0.8,0,-b*0.4,-b*0.6,0],"z"))};h.tag=function(f,c,b,e,a){var e=e||0,a=a==null?5:a,b=b==null?"$9.99":b,g=0.5522*a,j=this.paper.set();j.push(this.paper.path().attr({fill:"#000",
stroke:"#000"}));j.push(this.paper.text(f,c,b).attr(this.txtattr).attr({fill:"#fff","font-family":"Helvetica, Arial"}));j.update=function(){this.rotate(0,f,c);var b=this[1].getBBox();if(b.height>=a*2)this[0].attr({path:["M",f,c+a,"a",a,a,0,1,1,0,-a*2,a,a,0,1,1,0,a*2,"m",0,-a*2-3,"a",a+3,a+3,0,1,0,0,(a+3)*2,"L",f+a+3,c+b.height/2+3,"l",b.width+6,0,0,-b.height-6,-b.width-6,0,"L",f,c-a-3].join(",")});else{var j=Math.sqrt(Math.pow(a+3,2)-Math.pow(b.height/2+3,2));this[0].attr({path:["M",f,c+a,"c",-g,
0,-a,g-a,-a,-a,0,-g,a-g,-a,a,-a,g,0,a,a-g,a,a,0,g,g-a,a,-a,a,"M",f+j,c-b.height/2-3,"a",a+3,a+3,0,1,0,0,b.height+6,"l",a+3-j+b.width+6,0,0,-b.height-6,"L",f+j,c-b.height/2-3].join(",")})}this[1].attr({x:f+a+3+b.width/2,y:c});e=(360-e)%360;this.rotate(e,f,c);e>90&&e<270&&this[1].attr({x:f-a-3-b.width/2,y:c,transform:["r"+(180+e),f,c].join(",")});return this};j.update();return j};h.popupit=function(f,c,b,e,a){var e=e==null?2:e,a=a||5,f=Math.round(f),c=Math.round(c),g=b.getBBox(),j=Math.round(g.width/
2),i=Math.round(g.height/2),w=["M",f-[0,j+a*2,0,-j-a*2][e],c-[-i*2-a*3,-i-a,0,-i-a][e],"l",-a,(e==2)*-a,-l(j-a,0),0,"a",a,a,0,0,1,-a,-a,"l",0,-l(i-a,0),(e==3)*-a,-a,(e==3)*a,-a,0,-l(i-a,0),"a",a,a,0,0,1,a,-a,"l",l(j-a,0),0,a,!e*-a,a,!e*a,l(j-a,0),0,"a",a,a,0,0,1,a,a,"l",0,l(i-a,0),(e==1)*a,a,(e==1)*-a,a,0,l(i-a,0),"a",a,a,0,0,1,-a,a,"l",-l(j-a,0),0,"z"].join(","),f=[{x:f,y:c+a*2+i},{x:f-a*2-j,y:c},{x:f,y:c-a*2-i},{x:f+a*2+j,y:c}][e];b.translate(f.x-j-g.x,f.y-i-g.y);return this.paper.path(w).attr({fill:"#000",
stroke:"none"}).insertBefore(b.node?b:b[0])};h.popup=function(f,c,b,e,a){var e=e==null?2:e>3?3:e,a=a||5,b=b||"$9.99",g=this.paper.set();g.push(this.paper.path().attr({fill:"#000",stroke:"#000"}));g.push(this.text(f,c,b).attr(this.txtattr).attr({fill:"#fff","font-family":"Helvetica, Arial"}));g.update=function(b,g,w){var b=b||f,g=g||c,o=this[1].getBBox(),h=o.width/2,m=o.height/2,o=["M",b-[0,h+a*2,0,-h-a*2][e],g-[-m*2-a*3,-m-a,0,-m-a][e],"l",-a,(e==2)*-a,-l(h-a,0),0,"a",a,a,0,0,1,-a,-a,"l",0,-l(m-a,
0),(e==3)*-a,-a,(e==3)*a,-a,0,-l(m-a,0),"a",a,a,0,0,1,a,-a,"l",l(h-a,0),0,a,!e*-a,a,!e*a,l(h-a,0),0,"a",a,a,0,0,1,a,a,"l",0,l(m-a,0),(e==1)*a,a,(e==1)*-a,a,0,l(m-a,0),"a",a,a,0,0,1,-a,a,"l",-l(h-a,0),0,"z"].join(","),b=[{x:b,y:g+a*2+m},{x:b-a*2-h,y:g},{x:b,y:g-a*2-m},{x:b+a*2+h,y:g}][e];b.path=o;w?this.animate(b,500,">"):this.attr(b);return this};return g.update(f,c)};h.flag=function(f,c,b,e){var e=e||0,b=b||"$9.99",a=this.paper.set();a.push(this.paper.path().attr({fill:"#000",stroke:"#000"}));a.push(this.paper.text(f,
c,b).attr(this.txtattr).attr({fill:"#fff","font-family":"Helvetica, Arial"}));a.update=function(a,b){this.rotate(0,a,b);var c=this[1].getBBox(),f=c.height/2;this[0].attr({path:["M",a,b,"l",f+3,-f-3,c.width+6,0,0,c.height+6,-c.width-6,0,"z"].join(",")});this[1].attr({x:a+f+3+c.width/2,y:b});e=360-e;this.rotate(e,a,b);e>90&&e<270&&this[1].attr({x:a-r-3-c.width/2,y:b,transform:["r"+(180+e),a,b].join(",")});return this};return a.update(f,c)};h.label=function(f,c,b){var e=this.paper.set();e.push(this.paper.rect(f,
c,10,10).attr({stroke:"none",fill:"#000"}));e.push(this.paper.text(f,c,b).attr(this.txtattr).attr({fill:"#fff"}));e.update=function(){var a=this[1].getBBox(),b=n(a.width+10,a.height+10)/2;this[0].attr({x:a.x-b/2,y:a.y-b/2,width:a.width+b,height:a.height+b,r:b})};e.update();return e};h.labelit=function(f){var c=f.getBBox(),b=n(20,c.width+10,c.height+10)/2;return this.paper.rect(c.x-b/2,c.y-b/2,c.width+b,c.height+b,b).attr({stroke:"none",fill:"#000"}).insertBefore(f.node?f:f[0])};h.drop=function(f,
c,b,e,a){var e=e||30,a=a||0,g=this.paper.set();g.push(this.paper.path(["M",f,c,"l",e,0,"A",e*0.4,e*0.4,0,1,0,f+e*0.7,c-e*0.7,"z"]).attr({fill:"#000",stroke:"none",transform:["r"+(22.5-a),f,c].join(",")}));a=(a+90)*Math.PI/180;g.push(this.paper.text(f+e*Math.sin(a),c+e*Math.cos(a),b).attr(this.txtattr).attr({"font-size":e*12/30,fill:"#fff"}));g.drop=g[0];g.text=g[1];return g};h.blob=function(f,c,b,e,a){var e=(+e+1?e:45)+90,a=a||12,g=Math.PI/180,j=a*12/12,i=this.paper.set();i.push(this.paper.path().attr({fill:"#000",
stroke:"none"}));i.push(this.paper.text(f+a*Math.sin(e*g),c+a*Math.cos(e*g)-j/2,b).attr(this.txtattr).attr({"font-size":j,fill:"#fff"}));i.update=function(b,i,h){var b=b||f,i=i||c,m=this[1].getBBox(),k=l(m.width+j,a*25/12),p=l(m.height+j,a*25/12),m=b+a*Math.sin((e-22.5)*g),n=i+a*Math.cos((e-22.5)*g);b+=a*Math.sin((e+22.5)*g);i+=a*Math.cos((e+22.5)*g);var s=(b-m)/2,q=(i-n)/2;k/=2;p/=2;var t=-Math.sqrt(Math.abs(k*k*p*p-k*k*q*q-p*p*s*s)/(k*k*q*q+p*p*s*s)),q=t*k*q/p+(b+m)/2,s=t*-p*s/k+(i+n)/2;h?this.animate({x:q,
y:s,path:["M",f,c,"L",b,i,"A",k,p,0,1,1,m,n,"z"].join(",")},500,">"):this.attr({x:q,y:s,path:["M",f,c,"L",b,i,"A",k,p,0,1,1,m,n,"z"].join(",")});return this};i.update(f,c);return i};h.colorValue=function(f,c,b,e){return"hsb("+[n((1-f/c)*0.4,1),b||0.75,e||0.75]+")"};h.snapEnds=function(f,c,b){function e(a){return Math.abs(a-0.5)<0.25?~~a+0.5:Math.round(a)}var a=f,g=c;if(a==g)return{from:a,to:g,power:0};var a=(g-a)/b,j=g=~~a,b=0;if(g){for(;j;)b--,j=~~(a*Math.pow(10,b))/Math.pow(10,b);b++}else{for(;!g;)b=
b||1,g=~~(a*Math.pow(10,b))/Math.pow(10,b),b++;b&&b--}g=e(c*Math.pow(10,b))/Math.pow(10,b);g<c&&(g=e((c+0.5)*Math.pow(10,b))/Math.pow(10,b));a=e((f-(b>0?0:0.5))*Math.pow(10,b))/Math.pow(10,b);return{from:a,to:g,power:b}};h.axis=function(f,c,b,e,a,g,j,i,h,o){var o=o==null?2:o,h=h||"t",g=g||10,l=h=="|"||h==" "?["M",f+0.5,c,"l",0,0.001]:j==1||j==3?["M",f+0.5,c,"l",0,-b]:["M",f,c+0.5,"l",b,0],e=this.snapEnds(e,a,g),m=e.from,k=e.to,p=e.power,a=0,e=this.paper.set();d=(k-m)/g;var k=m,n=p>0?p:0,s=b/g;if(+j==
1||+j==3){g=c;for(m=(j-1?1:-1)*(o+3+!!(j-1));g>=c-b;)h!="-"&&h!=" "&&(l=l.concat(["M",f-(h=="+"||h=="|"?o:!(j-1)*o*2),g+0.5,"l",o*2+1,0])),e.push(this.text(f+m,g,i&&i[a++]||(Math.round(k)==k?k:+k.toFixed(n))).attr(this.txtattr).attr({"text-anchor":j-1?"start":"end"})),k+=d,g-=s;Math.round(g+s-(c-b))&&(h!="-"&&h!=" "&&(l=l.concat(["M",f-(h=="+"||h=="|"?o:!(j-1)*o*2),c-b+0.5,"l",o*2+1,0])),e.push(this.text(f+m,c-b,i&&i[a]||(Math.round(k)==k?k:+k.toFixed(n))).attr(this.txtattr).attr({"text-anchor":j-
1?"start":"end"})))}else{for(var k=m,n=(p>0)*p,m=(j?-1:1)*(o+9+!j),p=f,s=b/g,q=0,g=0;p<=f+b;)h!="-"&&h!=" "&&(l=l.concat(["M",p+0.5,c-(h=="+"?o:!!j*o*2),"l",0,o*2+1])),e.push(q=this.text(p,c+m,i&&i[a++]||(Math.round(k)==k?k:+k.toFixed(n))).attr(this.txtattr)),q=q.getBBox(),g>=q.x-5?e.pop(e.length-1).remove():g=q.x+q.width,k+=d,p+=s;Math.round(p-s-f-b)&&(h!="-"&&h!=" "&&(l=l.concat(["M",f+b+0.5,c-(h=="+"?o:!!j*o*2),"l",0,o*2+1])),e.push(this.text(f+b,c+m,i&&i[a]||(Math.round(k)==k?k:+k.toFixed(n))).attr(this.txtattr)))}f=
this.paper.path(l);f.text=e;f.all=this.paper.set([f,e]);f.remove=function(){this.text.remove();this.constructor.prototype.remove.call(this)};return f};Raphael.el.lighter=function(f){var f=f||2,c=[this.attrs.fill,this.attrs.stroke];this.fs=this.fs||[c[0],c[1]];c[0]=Raphael.rgb2hsb(Raphael.getRGB(c[0]).hex);c[1]=Raphael.rgb2hsb(Raphael.getRGB(c[1]).hex);c[0].b=n(c[0].b*f,1);c[0].s/=f;c[1].b=n(c[1].b*f,1);c[1].s/=f;this.attr({fill:"hsb("+[c[0].h,c[0].s,c[0].b]+")",stroke:"hsb("+[c[1].h,c[1].s,c[1].b]+
")"})};Raphael.el.darker=function(f){var f=f||2,c=[this.attrs.fill,this.attrs.stroke];this.fs=this.fs||[c[0],c[1]];c[0]=Raphael.rgb2hsb(Raphael.getRGB(c[0]).hex);c[1]=Raphael.rgb2hsb(Raphael.getRGB(c[1]).hex);c[0].s=n(c[0].s*f,1);c[0].b/=f;c[1].s=n(c[1].s*f,1);c[1].b/=f;this.attr({fill:"hsb("+[c[0].h,c[0].s,c[0].b]+")",stroke:"hsb("+[c[1].h,c[1].s,c[1].b]+")"})};Raphael.el.original=function(){this.fs&&(this.attr({fill:this.fs[0],stroke:this.fs[1]}),delete this.fs)}})();